!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var n=r();for(var t in n)("object"==typeof exports?exports:e)[t]=n[t]}}(this,function(){return function(e){function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}var n={};return r.m=e,r.c=n,r.i=function(e){return e},r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=0)}([function(e,r,n){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){e.GeoBOS=e.GeoBOS||{},e.GeoBOS.fs=function(){function e(e,r){var n=c+"_exists_"+y++;if(2===arguments.length){if(g[n]=r,"string"!=typeof e)throw new Error("Arguments Error:path shuold be a string");"/"!==e.charAt(0)&&(e="/"+e),atelier.plugin.exec("FileSystemPlugin","exists",n,e)}}function r(e,r){var n=c+"_isDirectory_"+y++;if(2===arguments.length){if(g[n]=r,"string"!=typeof e)throw new Error("Arguments Error:path shuold be a string");"/"!==e.charAt(0)&&(e="/"+e),atelier.plugin.exec("FileSystemPlugin","isDirectory",n,e)}}function n(e,r){var n=c+"_isFile_"+y++;if(2===arguments.length){if(g[n]=r,"string"!=typeof e)throw new Error("Arguments Error:path shuold be a string");"/"!==e.charAt(0)&&(e="/"+e),atelier.plugin.exec("FileSystemPlugin","isFile",n,e)}}function i(e,r){var n=c+"_mkdir_"+y++;if(2===arguments.length){if(g[n]=r,"string"!=typeof e)throw new Error("Arguments Error:path shuold be a string");"/"!==e.charAt(0)&&(e="/"+e),atelier.plugin.exec("FileSystemPlugin","mkdir",n,e)}}function l(e,r){var n=c+"_readFile_"+y++;if(2===arguments.length){if(g[n]=r,"string"!=typeof e)throw new Error("Arguments Error:path shuold be a string");"/"!==e.charAt(0)&&(e="/"+e),atelier.plugin.exec("FileSystemPlugin","readFile",n,e)}}function o(e,r){var n=c+"_readdir_"+y++;if(2===arguments.length){if(g[n]=r,"string"!=typeof e)throw new Error("Arguments Error:path shuold be a string");"/"!==e.charAt(0)&&(e="/"+e),atelier.plugin.exec("FileSystemPlugin","readDir",n,e)}}function u(e,r,n){var t,i=c+"_rename_"+y++;if(3===arguments.length){if(g[i]=n,"string"!=typeof e||"string"!=typeof r)throw new Error("Arguments Error:path shuold be a string");"/"!==e.charAt(0)&&(e="/"+e),"/"!==r.charAt(0)&&(r="/"+r),t=e+","+r,atelier.plugin.exec("FileSystemPlugin","rename",i,t)}}function f(e,r){var n=c+"_rmDir_"+y++;if(2===arguments.length){if(g[n]=r,"string"!=typeof e)throw new Error("Arguments Error:path shuold be a string");"/"!==e.charAt(0)&&(e="/"+e),atelier.plugin.exec("FileSystemPlugin","rmDir",n,e)}}function p(e,r){var n=c+"_rmFile_"+y++;if(2===arguments.length){if(g[n]=r,"string"!=typeof e)throw new Error("Arguments Error:path shuold be a string");"/"!==e.charAt(0)&&(e="/"+e),atelier.plugin.exec("FileSystemPlugin","rmFile",n,e)}}function a(e,r,n){var i,l,o=c+"_writeFile_"+y++;if(3===arguments.length){if(g[o]=n,"string"!=typeof e&&"object"!==(void 0===e?"undefined":t(e)))throw new Error("Arguments Error:options shuold be a string or object ");"string"==typeof e?(i=e,"/"!==i.charAt(0)&&(i="/"+i),atelier.plugin.exec("FileSystemPlugin","writeFile",o,i+","+r)):"object"===(void 0===e?"undefined":t(e))&&(l=e.type,i=e.path,"/"!==i.charAt(0)&&(i="/"+i),"text"===l&&atelier.plugin.exec("FileSystemPlugin","writeFile",o,i+","+r),"base64"===l&&atelier.plugin.exec("FileSystemPlugin","writeFile_binary",o,i+","+r))}}function s(e,r,n){var t,i=c+"_copy_"+y++;if(3===arguments.length){if(g[i]=n,"string"!=typeof e||"string"!=typeof r)throw new Error("Arguments Error:path shuold be a string");"/"!==e.charAt(0)&&(e="/"+e),"/"!==r.charAt(0)&&(r="/"+r),t=e+","+r,atelier.plugin.exec("FileSystemPlugin","copy",i,t)}}var c="geobos_fs",y=0,g={};return atelier.plugin.onNativeMessage.addListener(function(e,r,n,t,i){if(-1!==e.indexOf(c))if(-1!==e.indexOf("exists"))"function"==typeof g[e]&&(r?g[e].apply(null,[null]):g[e].apply(null,[new Error(t)]));else if(-1!==e.indexOf("isDirectory"))"function"==typeof g[e]&&(r?g[e].apply(null,[null,{dir:!0}]):g[e].apply(null,[new Error(t)]));else if(-1!==e.indexOf("isFile"))"function"==typeof g[e]&&(r?g[e].apply(null,[null,{file:!0}]):g[e].apply(null,[new Error(t)]));else if(-1!==e.indexOf("mkdir"))"function"==typeof g[e]&&(r?g[e].apply(null,[null]):g[e].apply(null,[new Error(t)]));else if(-1!==e.indexOf("readFile"))"function"==typeof g[e]&&(r?g[e].apply(null,[null,{data:t}]):g[e].apply(null,[new Error(t)]));else if(-1!==e.indexOf("readdir")){if("function"==typeof g[e])if(r){for(var l=t.split("\n"),o=0;o<l.length;o++)""===l[o]&&l.splice(o,1);g[e].apply(null,[null,{fileList:l}])}else g[e].apply(null,[new Error(t)])}else-1!==e.indexOf("rename")?"function"==typeof g[e]&&(r?g[e].apply(null,[null]):g[e].apply(null,[new Error(t)])):-1!==e.indexOf("rmDir")?"function"==typeof g[e]&&(r?g[e].apply(null,[null]):g[e].apply(null,[new Error(t)])):-1!==e.indexOf("rmFile")?"function"==typeof g[e]&&(r?g[e].apply(null,[null]):g[e].apply(null,[new Error(t)])):-1!==e.indexOf("writeFile")?"function"==typeof g[e]&&(r?g[e].apply(null,[null]):g[e].apply(null,[new Error(t)])):-1!==e.indexOf("copy")&&"function"==typeof g[e]&&(r?g[e].apply(null,[null]):g[e].apply(null,[new Error(t)]))}),{exists:e,isDirectory:r,isFile:n,mkdir:i,readFile:l,readdir:o,rename:u,rmDir:f,rmFile:p,writeFile:a,copy:s}}()}(window)}])});